@model IEnumerable<SpeedyCouriers.Models.OrderInfo>
@{
    ViewBag.Title = "TransactionDetails";
    Layout = "~/Views/Admin/AdminLayout.cshtml";
}

<h2>Order Details</h2>

<head>
    <script src="~/Scripts/jquery-3.6.0.js"></script>
</head>

<table class="table table-hover" style="margin-top:100px">
    <thead>
        <tr>
            <th scope="col">OrderID</th>
            <th scope="col">User Name</th>
            <th scope="col">User Email</th>
            <th scope="col">Reciever Name</th>
            <th scope="col">Reciever Address</th>
            <th scope="col">Reciever Phone Number</th>
            <th scope="col">Recieve Date</th>
            <th scope="col">Order Status</th>

        </tr>
    </thead>
    <tbody>
        @foreach (var tranInfo in Model)
        {

            <tr class="table-dark">

                <td class="orderId">
                    @tranInfo.orderID
                </td>

                <td>
                    @tranInfo.userInformation.Name
                </td>
                <td>
                    @tranInfo.userInformation.Email
                </td>
                <td>
                    @tranInfo.receiverInfo.receiverName
                </td>
                <td>
                    @tranInfo.receiverInfo.receiverAddress
                </td>
                <td>
                    @tranInfo.receiverInfo.phoneNumber
                </td>
                <td>
                    @tranInfo.receiverInfo.receiveDate
                </td>
                <td>
                    @tranInfo.orderStatus
                </td>
                <td>
                    <a onclick="orderSelected(@tranInfo.orderID)">Proceed</a>
                </td>
            </tr>
        }
    </tbody>
</table>

<script>

    function orderSelected(orderID) {
        localStorage.setItem("orderID", orderID);
        location.replace("/Admin/AssignDeliveryMan");
    }

</script>